<!DOCTYPE html>
<html>
<head>
<title>prd.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="%F0%9F%A7%BE-prd--orbbit-onchain-invoice-financing-protocol-base-buildathon-002">🧾 PRD — Orbbit Onchain Invoice Financing Protocol (Base Buildathon #002)</h1>
<h2 id="1-overview">1. Overview</h2>
<p><strong>Product Name:</strong> Orbbit Onchain Invoice Financing Protocol<br>
<strong>Track:</strong> Builder Track — Base Buildathon #002<br>
<strong>Owner:</strong> Jian Ruan (CTO, Orbbit)<br>
<strong>Date:</strong> October 2025<br>
<strong>Version:</strong> v1.0</p>
<h3 id="summary">Summary</h3>
<p><strong>One-liner:</strong> Invoice financing marketplace where investors fund SMB invoices with USDC and earn yield on real-world receivables.</p>
<p>Orbbit creates a marketplace connecting investors seeking stable yields with SMBs needing fast working capital. Investors browse tokenized invoices on Base, fund them with USDC, and automatically receive principal + yield when invoices are repaid. SMBs get 80% of invoice value in under 24 hours without touching crypto.</p>
<p>This project bridges <strong>real-world SMB cashflow</strong> and <strong>onchain capital markets</strong>, creating a transparent, instant-settlement invoice financing platform.</p>
<hr>
<h2 id="2-problem-statement">2. Problem Statement</h2>
<h3 id="for-smbs">For SMBs</h3>
<p>Small and medium-sized businesses (SMBs) face long payment cycles (Net-30/60/90) that lock up working capital. A $50K invoice due in 60 days means they can't pay employees, buy inventory, or take new contracts.</p>
<p><strong>Traditional invoice factoring problems:</strong></p>
<ul>
<li><strong>Slow:</strong> 5-7 day approval process</li>
<li><strong>Expensive:</strong> 15-30% annualized fees</li>
<li><strong>Opaque:</strong> Hidden fees, unclear pricing</li>
<li><strong>Limited access:</strong> Only available to larger SMBs with banking relationships</li>
</ul>
<h3 id="for-investors">For Investors</h3>
<p>Crypto investors want stable yields on USDC but have limited options:</p>
<ul>
<li>DeFi yields are volatile and risky</li>
<li>Traditional finance won't accept crypto/</li>
<li><strong>SMB credit market ($1.5T) is completely inaccessible</strong> - traditionally institutional-only</li>
</ul>
<p><strong>What investors want:</strong></p>
<ul>
<li>8-12% predictable APY backed by real-world assets</li>
<li>Transparent risk metrics</li>
<li>Instant settlement and liquidity</li>
<li>Direct access without intermediaries</li>
</ul>
<h3 id="the-gap">The Gap</h3>
<p>There's no bridge connecting USDC liquidity to SMB invoice financing. Orbbit creates this bridge onchain.</p>
<hr>
<h2 id="3-value-proposition">3. Value Proposition</h2>
<h3 id="for-investors">For Investors</h3>
<ul>
<li><strong>8-12% APY on USDC</strong> - predictable yield on stablecoins</li>
<li><strong>Real-world asset backing</strong> - invoices from verified businesses to established customers</li>
<li><strong>Transparent risk metrics</strong> - see invoice amount, due date, payer, risk score before funding</li>
<li><strong>Instant settlement</strong> - receive principal + yield immediately when invoice is repaid</li>
<li><strong>Direct access</strong> - invest in individual invoices, choose your own risk level</li>
<li><strong>Portfolio diversification</strong> - spread investments across multiple invoices/industries</li>
</ul>
<h3 id="for-smbs">For SMBs</h3>
<ul>
<li><strong>Fast capital access</strong> - receive 80% of invoice value in &lt;24 hours</li>
<li><strong>Lower cost</strong> - 10-15% annualized vs. 15-30% traditional factoring</li>
<li><strong>No blockchain knowledge needed</strong> - simple web interface, bank account in/out</li>
<li><strong>Transparent pricing</strong> - know exactly what you're paying upfront</li>
<li><strong>Non-recourse</strong> - if payer doesn't pay, Orbbit handles collections (not SMB's problem)</li>
</ul>
<h3 id="why-onchain">Why Onchain?</h3>
<ul>
<li><strong>Instant settlement</strong> - automatic distribution when invoice is paid (no 5-7 day bank processing)</li>
<li><strong>Transparent pricing</strong> - all fees and yields are visible and verifiable</li>
<li><strong>Global capital access</strong> - any wallet with USDC can invest (vs. traditional factoring limited to local banks)</li>
<li><strong>Automated repayment</strong> - yield distribution happens automatically, no manual wire transfers</li>
<li><strong>Reduced intermediaries</strong> - smart contracts enforce terms, reducing operational costs</li>
</ul>
<hr>
<h2 id="4-success-metrics">4. Success Metrics</h2>
<h3 id="hackathon-requirements-must-have">Hackathon Requirements (Must-Have)</h3>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Our Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td>Built on Base</td>
<td>✅ All contracts deployed on Base testnet</td>
</tr>
<tr>
<td>Functioning onchain app</td>
<td>✅ Live app at orbbit-invoicefi.vercel.app (or similar)</td>
</tr>
<tr>
<td>Open-source GitHub repo</td>
<td>✅ Public repo with contracts + frontend</td>
</tr>
<tr>
<td>1+ transactions on Base</td>
<td>✅ Mint invoice → Fund → Distribute yield (3+ transactions)</td>
</tr>
<tr>
<td>Video (1+ min)</td>
<td>✅ 90-sec demo: investor journey start to finish</td>
</tr>
<tr>
<td>Functions as pitched</td>
<td>✅ Complete investor workflow: browse → fund → earn yield</td>
</tr>
</tbody>
</table>
<h3 id="product-success-metrics">Product Success Metrics</h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Target</th>
</tr>
</thead>
<tbody>
<tr>
<td>Invoices tokenized</td>
<td>3-5 real invoices from Orbbit's SMB customers</td>
</tr>
<tr>
<td>Unique investor wallets</td>
<td>10+ different wallets fund at least one invoice</td>
</tr>
<tr>
<td>Average funding time</td>
<td>&lt;24 hours from invoice posted to fully funded</td>
</tr>
<tr>
<td>End-to-end cycle completed</td>
<td>✅ Upload → Fund → Simulate repayment → Yield paid</td>
</tr>
<tr>
<td>Demo video clarity</td>
<td>Non-crypto person can understand value prop in 90sec</td>
</tr>
<tr>
<td>Mobile responsiveness</td>
<td>Dashboard works on phone (50% of crypto users mobile)</td>
</tr>
</tbody>
</table>
<h3 id="evaluation-criteria-alignment">Evaluation Criteria Alignment</h3>
<table>
<thead>
<tr>
<th>Criterion</th>
<th>How We Meet It</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Onchain</strong></td>
<td>100% on Base - all logic in smart contracts</td>
</tr>
<tr>
<td><strong>Technicality</strong></td>
<td>Working contracts + frontend, real USDC, real invoices</td>
</tr>
<tr>
<td><strong>Originality</strong></td>
<td>Transparent SMB invoice marketplace with direct investor access</td>
</tr>
<tr>
<td><strong>Viability</strong></td>
<td>Clear customers: crypto investors + Orbbit's existing 500+ SMBs</td>
</tr>
<tr>
<td><strong>Specific</strong></td>
<td>Focused alpha: investor workflow only, no scope creep</td>
</tr>
<tr>
<td><strong>Practicality</strong></td>
<td>Live demo anyone can use with Base testnet USDC</td>
</tr>
<tr>
<td><strong>Wow Factor</strong></td>
<td>Real invoices, real yields, instant settlement backed by actual business revenue</td>
</tr>
</tbody>
</table>
<hr>
<h2 id="5-target-users">5. Target Users</h2>
<h3 id="primary-investors-wallet-holders">Primary: Investors (Wallet Holders)</h3>
<p><strong>Profile:</strong> Crypto-native users with USDC seeking stable yields</p>
<ul>
<li><strong>Experience level:</strong> Comfortable connecting wallets, using DeFi protocols</li>
<li><strong>Portfolio size:</strong> $5K - $500K in stablecoins</li>
<li><strong>Risk appetite:</strong> Low to moderate - want real-world asset backing</li>
<li><strong>Time horizon:</strong> Willing to lock capital for 30-90 days</li>
<li><strong>Current behavior:</strong> Using Aave, Compound, or just holding USDC earning 0%</li>
<li><strong>Key motivations:</strong>
<ul>
<li>Diversify into real-world assets</li>
<li>Earn predictable yield vs. volatile DeFi</li>
<li>Direct access to previously institutional-only market</li>
</ul>
</li>
</ul>
<h3 id="secondary-smbs-abstracted-from-blockchain">Secondary: SMBs (Abstracted from Blockchain)</h3>
<p><strong>Profile:</strong> B2B service companies needing working capital</p>
<ul>
<li><strong>Company size:</strong> $500K - $5M annual revenue</li>
<li><strong>Industry:</strong> SaaS, consulting, agencies, professional services</li>
<li><strong>Invoice profile:</strong> Invoicing established enterprise customers (Fortune 5000) on Net-30/60 terms</li>
<li><strong>Pain point:</strong> Cash flow gaps between delivering service and getting paid</li>
<li><strong>Technical literacy:</strong> Low - prefer email/web interface, no crypto knowledge</li>
<li><strong>Key motivations:</strong>
<ul>
<li>Access capital faster than traditional factoring</li>
<li>Lower cost than existing options</li>
<li>Simple application process</li>
</ul>
</li>
</ul>
<hr>
<h2 id="6-core-features-investor-first-workflow">6. Core Features (Investor-First Workflow)</h2>
<h3 id="61-invoice-marketplace-dashboard">6.1. Invoice Marketplace Dashboard</h3>
<p><strong>User:</strong> Investors
<strong>What:</strong> Browse available invoices ready for funding</p>
<ul>
<li>View all active invoices with key metrics displayed</li>
<li>Filter by amount, due date, risk score, industry</li>
<li>See funding progress (how much already funded)</li>
<li>Each invoice card shows:
<ul>
<li>Invoice amount &amp; funded %</li>
<li>APY (based on fee &amp; time to maturity)</li>
<li>Days until due date</li>
<li>Payer company (e.g., &quot;Microsoft&quot;, &quot;Salesforce&quot;)</li>
<li>Risk score (Low/Medium/High)</li>
</ul>
</li>
</ul>
<h3 id="62-one-click-funding">6.2. One-Click Funding</h3>
<p><strong>User:</strong> Investors
<strong>What:</strong> Deposit USDC to fund specific invoices</p>
<ul>
<li>Connect wallet via RainbowKit (Base network)</li>
<li>Approve USDC spending (one-time)</li>
<li>Enter amount to invest in specific invoice</li>
<li>Transaction confirms on Base</li>
<li>Real-time update of funding progress</li>
</ul>
<h4 id="funding-pool-mechanics-flowchart">Funding Pool Mechanics Flowchart</h4>
<pre><code class="language-mermaid"><div class="mermaid">flowchart TD
    Start([Investor clicks 'Fund Invoice']) --> CheckWallet{Wallet<br/>Connected?}
    CheckWallet -->|No| ConnectWallet[Prompt to connect wallet<br/>via RainbowKit]
    ConnectWallet --> RainbowKitModal[RainbowKit modal opens]
    RainbowKitModal --> SelectWallet[Select wallet provider]
    SelectWallet --> WalletConnected[Wallet connected to Base]
    CheckWallet -->|Yes| WalletConnected

    WalletConnected --> CheckNetwork{On Base<br/>Network?}
    CheckNetwork -->|No| SwitchNetwork[Prompt to switch to Base]
    SwitchNetwork --> NetworkSwitched[Network switched to Base]
    CheckNetwork -->|Yes| NetworkSwitched

    NetworkSwitched --> CheckBalance{USDC Balance<br/>>= Amount?}
    CheckBalance -->|No| InsufficientFunds[❌ Show error:<br/>'Insufficient USDC balance']
    InsufficientFunds --> End([End])

    CheckBalance -->|Yes| CheckAllowance{USDC Allowance<br/>>= Amount?}
    CheckAllowance -->|No| RequestApproval[Request USDC approval<br/>for FundingPool contract]
    RequestApproval --> UserApproves{User confirms<br/>approval tx?}
    UserApproves -->|No| Cancelled[❌ Transaction cancelled]
    Cancelled --> End
    UserApproves -->|Yes| ApprovalProcessing[Approval transaction<br/>processing on Base]
    ApprovalProcessing --> ApprovalConfirmed[✓ Approval confirmed]
    CheckAllowance -->|Yes| ApprovalConfirmed

    ApprovalConfirmed --> PrepareDeposit[Prepare depositUSDC function]
    PrepareDeposit --> CallContract[Call FundingPool.depositUSDC<br/>with invoiceId and amount]
    CallContract --> UserSigns{User signs<br/>transaction?}

    UserSigns -->|No| Cancelled
    UserSigns -->|Yes| TxSubmitted[Transaction submitted to Base]

    TxSubmitted --> TxProcessing[⏳ Transaction processing<br/>Show pending state]
    TxProcessing --> TxConfirmed{Transaction<br/>Confirmed?}

    TxConfirmed -->|Failed| TxFailed[❌ Show error message<br/>with reason]
    TxFailed --> Retry{Retry?}
    Retry -->|Yes| PrepareDeposit
    Retry -->|No| End

    TxConfirmed -->|Success| UpdateContract[Smart contract updates:<br/>- investorShares mapping<br/>- totalFunded amount<br/>- invoice funding %]

    UpdateContract --> EmitEvent[Emit FundingReceived event<br/>with investor address & amount]
    EmitEvent --> UpdateUI[Frontend updates:<br/>- Portfolio balance<br/>- Invoice funding progress<br/>- Transaction history]

    UpdateUI --> CheckFullyFunded{Invoice<br/>100% funded?}
    CheckFullyFunded -->|Yes| ShowSuccess[✓ Show success:<br/>'Invoice fully funded!<br/>SMB will receive payment']
    CheckFullyFunded -->|No| ShowPartial[✓ Show success:<br/>'Funded XX.X%<br/>Waiting for more investors']

    ShowSuccess --> Success([✓ Funding Complete])
    ShowPartial --> Success

    style Start fill:#e1f5e1
    style Success fill:#e1f5e1
    style End fill:#ffe1e1
    style Cancelled fill:#ffe1e1
    style TxFailed fill:#ffe1e1
    style InsufficientFunds fill:#ffe1e1
    style UpdateContract fill:#fff4e1
    style EmitEvent fill:#fff4e1
    style CheckFullyFunded fill:#e1f0ff
</div></code></pre>
<h3 id="63-portfolio-tracking-dashboard">6.3. Portfolio Tracking Dashboard</h3>
<p><strong>User:</strong> Investors
<strong>What:</strong> Monitor active investments and returns</p>
<ul>
<li>View all funded invoices</li>
<li>See total invested, current value, expected return</li>
<li>Track repayment status (pending/repaid)</li>
<li>Display realized vs. unrealized gains</li>
<li>Transaction history</li>
</ul>
<h3 id="64-automated-yield-distribution">6.4. Automated Yield Distribution</h3>
<p><strong>User:</strong> Investors
<strong>What:</strong> Receive principal + yield when invoice is repaid</p>
<ul>
<li>Smart contract automatically distributes funds when invoice is paid</li>
<li>Each investor receives proportional share based on funding amount</li>
<li>USDC sent directly to investor wallet</li>
<li>No manual claim needed (push-based, not pull-based)</li>
<li>For hackathon: simulated repayment to demonstrate flow</li>
</ul>
<h3 id="65-investor-user-journey-flow">6.5. Investor User Journey Flow</h3>
<pre><code class="language-mermaid"><div class="mermaid">flowchart TD
    Start([Investor Opens App]) --> Connect[Connect Wallet via RainbowKit]
    Connect --> Browse[Browse Invoice Marketplace]
    Browse --> Filter{Filter by APY,<br/>Risk, or Amount?}
    Filter -->|Yes| Filtered[View Filtered Invoices]
    Filter -->|No| ViewAll[View All Invoices]
    Filtered --> SelectInvoice[Select Invoice to Fund]
    ViewAll --> SelectInvoice

    SelectInvoice --> ReviewDetails[Review Invoice Details:<br/>Amount, APY, Due Date,<br/>Payer, Risk Score]
    ReviewDetails --> Decide{Fund This<br/>Invoice?}

    Decide -->|No| Browse
    Decide -->|Yes| EnterAmount[Enter USDC Amount]
    EnterAmount --> FirstTime{First Time<br/>Using USDC?}
    FirstTime -->|Yes| Approve[Approve USDC Spending]
    FirstTime -->|No| Deposit
    Approve --> Deposit[Deposit USDC to FundingPool]

    Deposit --> TxPending[Transaction Processing on Base]
    TxPending --> TxConfirm[Transaction Confirmed]
    TxConfirm --> PortfolioUpdate[Portfolio Dashboard Updates]

    PortfolioUpdate --> TrackInvestment[Track Investment Status]
    TrackInvestment --> WaitRepayment[Wait for Invoice Due Date]
    WaitRepayment --> InvoiceRepaid{Invoice<br/>Repaid?}

    InvoiceRepaid -->|Yes| AutoDistribute[Smart Contract Auto-Distributes Yield]
    InvoiceRepaid -->|Not Yet| WaitRepayment

    AutoDistribute --> ReceiveUSDC[Receive Principal + Yield in USDC]
    ReceiveUSDC --> UpdatePortfolio[Portfolio Shows Realized Gains]
    UpdatePortfolio --> FundMore{Fund Another<br/>Invoice?}

    FundMore -->|Yes| Browse
    FundMore -->|No| End([Done])

    style Start fill:#e1f5e1
    style End fill:#ffe1e1
    style AutoDistribute fill:#fff4e1
    style ReceiveUSDC fill:#e1f0ff
</div></code></pre>
<h3 id="66-invoice-tokenization-backend---erc-721">6.6. Invoice Tokenization (Backend - ERC-721)</h3>
<p><strong>User:</strong> Orbbit admin (abstracted from SMBs)
<strong>What:</strong> Convert invoices to onchain assets</p>
<ul>
<li>Admin uploads invoice data (amount, due date, payer, etc.)</li>
<li>System mints <code>InvoiceNFT</code> on Base with metadata</li>
<li>Invoice becomes tradeable/fundable onchain</li>
<li>For alpha: Orbbit curates invoices from existing SMB customers</li>
</ul>
<h3 id="67-invoice-lifecycle-state-machine">6.7. Invoice Lifecycle State Machine</h3>
<pre><code class="language-mermaid"><div class="mermaid">stateDiagram-v2
    [*] --> Created: Admin mints InvoiceNFT

    Created --> Listed: Invoice posted to marketplace

    Listed --> PartiallyFunded: First investor deposits USDC
    PartiallyFunded --> PartiallyFunded: More investors contribute

    PartiallyFunded --> FullyFunded: 100% funding reached
    Listed --> FullyFunded: Single investor funds entirely

    FullyFunded --> Disbursed: Orbbit pays SMB (80% of value)

    Disbursed --> PendingRepayment: Waiting for due date

    PendingRepayment --> Repaid: SMB repays on time
    PendingRepayment --> Overdue: Due date passes without payment

    Repaid --> YieldDistributed: Smart contract distributes<br/>principal + yield to investors

    Overdue --> UnderCollection: Orbbit initiates collection
    UnderCollection --> Repaid: Payment recovered
    UnderCollection --> Defaulted: Collection fails

    YieldDistributed --> [*]: Lifecycle complete ✓
    Defaulted --> [*]: Loss handled by Orbbit

    note right of Created
        Invoice metadata stored:
        - Amount, due date, payer
        - Risk score, APY
    end note

    note right of FullyFunded
        Triggers automatic:
        - USDC → USD conversion
        - Wire to SMB bank
    end note

    note right of YieldDistributed
        Each investor receives:
        Principal × (1 + APY × days/365)
        Proportional to their funding share
    end note
</div></code></pre>
<p><strong>State Transitions:</strong></p>
<ol>
<li><strong>Created → Listed</strong>: Invoice verified and ready for investment</li>
<li><strong>Listed → PartiallyFunded</strong>: Funding begins</li>
<li><strong>PartiallyFunded → FullyFunded</strong>: Target amount reached</li>
<li><strong>FullyFunded → Disbursed</strong>: SMB receives working capital</li>
<li><strong>Disbursed → PendingRepayment</strong>: Waiting for invoice due date</li>
<li><strong>PendingRepayment → Repaid</strong>: SMB pays on time (success path)</li>
<li><strong>Repaid → YieldDistributed</strong>: Investors receive returns automatically</li>
<li><strong>PendingRepayment → Overdue → UnderCollection</strong>: Late payment handling</li>
</ol>
<hr>
<h2 id="7-smb-workflow-blockchain-abstracted">7. SMB Workflow (Blockchain Abstracted)</h2>
<p><strong>Key principle:</strong> SMBs never touch crypto, wallets, or know blockchain exists.</p>
<h3 id="current-state-alpha---manual">Current State (Alpha - Manual)</h3>
<ol>
<li><strong>SMB applies</strong> - Sends invoice to Orbbit via email or web form</li>
<li><strong>Orbbit verifies</strong> - Confirms invoice is real, payer is legitimate</li>
<li><strong>Orbbit mints NFT</strong> - Creates token on SMB's behalf (custodial wallet)</li>
<li><strong>Invoice goes live</strong> - Appears on investor marketplace</li>
<li><strong>Investors fund</strong> - USDC flows into smart contract</li>
<li><strong>Orbbit pays SMB</strong> - Converts USDC → USD, sends to SMB's bank account</li>
<li><strong>SMB repays</strong> - Pays Orbbit back via bank transfer at due date</li>
<li><strong>Orbbit distributes yield</strong> - Converts USD → USDC, smart contract pays investors</li>
</ol>
<p><strong>SMB's perspective:</strong> Submit invoice → Get USD in bank account → Repay USD to bank account</p>
<p><strong>What SMB never does:</strong></p>
<ul>
<li>Create a wallet</li>
<li>Buy crypto</li>
<li>Sign transactions</li>
<li>See blockchain</li>
</ul>
<h3 id="smb-workflow-sequence-diagram">SMB Workflow Sequence Diagram</h3>
<pre><code class="language-mermaid"><div class="mermaid">sequenceDiagram
    actor SMB as SMB Company
    participant Orbbit as Orbbit Platform
    participant Blockchain as Base Network<br/>(Smart Contracts)
    participant Investors as Investors

    Note over SMB,Investors: Day 1: Invoice Submission & Tokenization

    SMB->>Orbbit: Submit invoice via email/web form<br/>(Invoice #1234, $50K, Net-60)
    activate Orbbit
    Orbbit->>Orbbit: Verify invoice authenticity<br/>& payer creditworthiness
    Orbbit->>Blockchain: Mint InvoiceNFT with metadata<br/>(amount, due date, risk score)
    activate Blockchain
    Blockchain-->>Orbbit: NFT minted, tokenId: 1234
    deactivate Blockchain
    Orbbit->>Blockchain: List invoice on marketplace
    deactivate Orbbit

    Note over SMB,Investors: Day 1-2: Funding Phase

    Investors->>Blockchain: Browse marketplace
    Investors->>Blockchain: Deposit USDC to FundingPool<br/>(Multiple investors fund $50K total)
    activate Blockchain
    Blockchain->>Blockchain: Track investor shares<br/>& funding progress
    Blockchain-->>Investors: Funding confirmed
    deactivate Blockchain

    Note over SMB,Investors: Day 2: SMB Payment

    Blockchain->>Orbbit: Funding complete event emitted
    activate Orbbit
    Orbbit->>Orbbit: Convert USDC → USD<br/>($50K × 80% = $40K)
    Orbbit->>SMB: Wire $40K to bank account
    SMB-->>Orbbit: Payment received ✓
    deactivate Orbbit

    Note over SMB,Investors: Day 60: Invoice Due & Repayment

    SMB->>Orbbit: Repay $50K + fee via bank transfer
    activate Orbbit
    Orbbit->>Orbbit: Convert USD → USDC<br/>($50K + yield)
    Orbbit->>Blockchain: Trigger repayment function<br/>with USDC
    activate Blockchain
    Blockchain->>Blockchain: Calculate yield distribution<br/>based on investor shares
    Blockchain->>Investors: Auto-distribute USDC<br/>(Principal + Yield)
    Investors-->>Blockchain: Payment received ✓
    deactivate Blockchain
    deactivate Orbbit

    Note over SMB,Investors: Complete: SMB got working capital, Investors earned yield
</div></code></pre>
<h3 id="future-state-self-service">Future State (Self-Service)</h3>
<ul>
<li>SMB connects bank account (Plaid)</li>
<li>Orbbit auto-detects unpaid invoices</li>
<li>SMB clicks &quot;Get funded&quot; on specific invoice</li>
<li>Rest is same as above</li>
</ul>
<hr>
<h2 id="8-mvp-scope-3-week-timeline-oct-5---oct-24">8. MVP Scope (3-Week Timeline: Oct 5 - Oct 24)</h2>
<h3 id="%E2%9C%85-in-scope-for-alpha">✅ In Scope for Alpha</h3>
<p><strong>Week 1: Smart Contracts (Oct 5-11)</strong></p>
<ul>
<li>InvoiceNFT contract (ERC-721) - mint invoices with metadata</li>
<li>FundingPool contract - accept USDC deposits, track investors, distribute yields</li>
<li>Simulated repayment function (admin-triggered for demo)</li>
<li>Deploy to Base testnet</li>
<li>Write basic tests</li>
</ul>
<p><strong>Week 2: Frontend Dashboard (Oct 12-18)</strong></p>
<ul>
<li>Invoice marketplace page - display 3-5 real invoices from Orbbit customers</li>
<li>Wallet connection (RainbowKit + Wagmi)</li>
<li>Fund invoice flow - approve USDC, deposit, see funding progress</li>
<li>Portfolio page - view funded invoices, track returns</li>
<li>Responsive design (mobile-friendly)</li>
</ul>
<p><strong>Week 3: Integration &amp; Polish (Oct 19-24)</strong></p>
<ul>
<li>Connect frontend to Base testnet contracts</li>
<li>Add real invoice data (sanitized from Orbbit's existing SMBs)</li>
<li>Simulate complete funding → repayment → yield distribution cycle</li>
<li>Record demo video (&lt;90 seconds showing investor journey)</li>
<li>Deploy frontend to Vercel</li>
<li>Write documentation</li>
</ul>
<h3 id="%E2%9D%8C-cut-from-alpha-post-hackathon">❌ Cut from Alpha (Post-Hackathon)</h3>
<p><strong>Infrastructure:</strong></p>
<ul>
<li>IPFS storage for invoices (use centralized DB with IPFS hash placeholder)</li>
<li>Real-time risk scoring API (use static mock scores: Low/Medium/High)</li>
<li>Fiat on/off-ramp integration (assume investors already have USDC)</li>
</ul>
<p><strong>Features:</strong></p>
<ul>
<li>SMB self-service onboarding (Orbbit uploads invoices manually)</li>
<li>Fractionalized ERC-20 shares (each invoice = single funding pool)</li>
<li>Secondary market trading</li>
<li>Basename/Smart Wallet integration (nice-to-have if time permits)</li>
<li>Oracle for invoice verification</li>
<li>Automated collections/default handling</li>
</ul>
<p><strong>Reason for cuts:</strong> Focus on core investor flow working perfectly. Better to have 5 features working flawlessly than 15 features half-built.</p>
<h3 id="%F0%9F%8E%AF-success-criteria-for-alpha">🎯 Success Criteria for Alpha</h3>
<ol>
<li>✅ 3-5 real invoices tokenized on Base testnet</li>
<li>✅ Investor can fund invoice with USDC end-to-end</li>
<li>✅ Admin can simulate repayment, investors receive yield</li>
<li>✅ Demo video shows complete cycle in &lt;90 seconds</li>
<li>✅ Open-source repo on GitHub</li>
<li>✅ Deployed app at public URL</li>
</ol>
<hr>
<h2 id="9-system-architecture">9. System Architecture</h2>
<h3 id="high-level-flow-investor-first">High-Level Flow (Investor-First)</h3>
<pre><code class="language-mermaid"><div class="mermaid">flowchart TD
    subgraph "SMB Side (Abstracted)"
        A1[SMB Emails Invoice] --> A2[Orbbit Verifies]
        A2 --> A3[Orbbit Mints NFT]
    end

    subgraph "Onchain (Base)"
        A3 --> B1[InvoiceNFT Created]
        B1 --> B2[Listed on Marketplace]
        B2 --> C1[Investor Browses Dashboard]
        C1 --> C2[Investor Deposits USDC]
        C2 --> C3[FundingPool Contract]
        C3 --> C4[Funding Reaches 100%]
    end

    subgraph "Settlement (Orbbit Layer)"
        C4 --> D1[Orbbit Converts USDC to USD]
        D1 --> D2[SMB Bank Account Funded]
        D2 --> D3[Invoice Due Date Arrives]
        D3 --> D4[SMB Repays to Bank]
        D4 --> D5[Orbbit Converts USD to USDC]
    end

    subgraph "Yield Distribution (Onchain)"
        D5 --> E1[Smart Contract Auto-Distributes]
        E1 --> E2[Investors Receive USDC + Yield]
        E2 --> E3[Portfolio Dashboard Updates]
    end
</div></code></pre>
<h3 id="smart-contract-architecture">Smart Contract Architecture</h3>
<pre><code class="language-mermaid"><div class="mermaid">graph TB
    subgraph "External Tokens"
        USDC[USDC Token<br/>ERC-20<br/>Base Network]
    end

    subgraph "Orbbit Smart Contracts"
        Factory[InvoiceFactory.sol<br/>━━━━━━━━━━━<br/>+ createInvoice<br/>+ setFundingPool<br/>+ owner: address]

        NFT[InvoiceNFT.sol<br/>ERC-721<br/>━━━━━━━━━━━<br/>+ invoiceAmount: uint256<br/>+ dueDate: uint256<br/>+ payer: string<br/>+ riskScore: uint8<br/>+ status: enum<br/>━━━━━━━━━━━<br/>+ mint<br/>+ updateStatus]

        Pool[FundingPool.sol<br/>━━━━━━━━━━━<br/>+ totalFunded: mapping<br/>+ investorShares: mapping<br/>+ invoiceStatus: mapping<br/>━━━━━━━━━━━<br/>+ depositUSDC<br/>+ calculateYield<br/>+ distributeYield<br/>+ withdrawInvestment]
    end

    subgraph "External Actors"
        Admin[Orbbit Admin<br/>Mints invoices]
        Investor[Investors<br/>Fund with USDC]
    end

    Admin -->|calls| Factory
    Factory -->|mints| NFT
    Factory -.->|references| Pool

    Investor -->|deposits USDC| Pool
    Pool -->|tracks ownership of| NFT
    Pool <-->|transfers| USDC

    Pool -->|distributes USDC to| Investor
    Admin -->|triggers repayment| Pool

    classDef contract fill:#e1f0ff,stroke:#333,stroke-width:2px
    classDef token fill:#fff4e1,stroke:#333,stroke-width:2px
    classDef actor fill:#e1f5e1,stroke:#333,stroke-width:2px

    class Factory,NFT,Pool contract
    class USDC token
    class Admin,Investor actor
</div></code></pre>
<p><strong>Key Relationships:</strong></p>
<ul>
<li><strong>InvoiceFactory</strong> → <strong>InvoiceNFT</strong>: Factory creates new invoice tokens</li>
<li><strong>FundingPool</strong> → <strong>USDC</strong>: Pool handles all USDC deposits and distributions</li>
<li><strong>FundingPool</strong> → <strong>InvoiceNFT</strong>: Pool tracks which invoices are funded and their status</li>
<li><strong>Investors</strong> → <strong>FundingPool</strong>: Investors deposit USDC to fund specific invoices</li>
<li><strong>Orbbit Admin</strong> → <strong>FundingPool</strong>: Admin triggers repayment after SMB pays</li>
</ul>
<h3 id="tech-stack">Tech Stack</h3>
<p><strong>Smart Contracts (Base)</strong></p>
<ul>
<li>Language: Solidity 0.8.x</li>
<li>Frameworks: Hardhat or Foundry</li>
<li>Contracts:
<ul>
<li><code>InvoiceNFT.sol</code> (ERC-721) - tokenize invoices</li>
<li><code>FundingPool.sol</code> - manage USDC deposits, track investors, distribute yields</li>
<li><code>InvoiceFactory.sol</code> - mint new invoices</li>
</ul>
</li>
<li>Testing: Hardhat tests, Base testnet deployment</li>
</ul>
<p><strong>Frontend (Next.js)</strong></p>
<ul>
<li>Framework: Next.js 14 (App Router)</li>
<li>Styling: TailwindCSS</li>
<li>Web3: Wagmi v2 + Viem</li>
<li>Wallet: RainbowKit (Base network)</li>
<li>Deployment: Vercel</li>
</ul>
<p><strong>Backend (For Alpha - Centralized)</strong></p>
<ul>
<li>Database: PostgreSQL (Supabase) - store invoice metadata</li>
<li>Storage: Centralized DB (IPFS placeholder for future)</li>
<li>Admin API: Next.js API routes for minting invoices</li>
</ul>
<p><strong>Base Integration</strong></p>
<ul>
<li>Network: Base Sepolia (testnet)</li>
<li>Token: USDC (Base testnet)</li>
<li>RPC: Base public RPC or Alchemy</li>
</ul>
<hr>
<h2 id="10-why-this-wins-the-hackathon">10. Why This Wins the Hackathon</h2>
<h3 id="unique-differentiation">Unique Differentiation</h3>
<p>We're solving a real business problem: SMBs need faster access to working capital, and investors want transparent yields backed by real assets.</p>
<p><strong>What makes this different:</strong> Investors can see exactly what they're funding (Invoice to Microsoft for $50K, due in 60 days, 10% APY) with full transparency - something impossible in traditional factoring or DeFi lending pools.</p>
<h3 id="market-opportunity">Market Opportunity</h3>
<ul>
<li><strong>$1.5 trillion SMB invoice market</strong> currently locked in opaque, expensive factoring</li>
<li><strong>Orbbit already has 500+ SMB customers</strong> with real invoices - we can launch with actual data</li>
<li><strong>Real business revenue</strong> - investors earn yield from companies paying their bills, backed by actual business operations</li>
</ul>
<h3 id="why-base-is-essential">Why Base is Essential</h3>
<ul>
<li><strong>Instant settlement</strong> - yield distributed in seconds when invoice is repaid (try that with Ethereum gas fees)</li>
<li><strong>Low cost</strong> - small invoices ($5K-$50K) viable with Base's low transaction costs</li>
<li><strong>USDC native</strong> - Base's stablecoin rails make conversion seamless</li>
<li><strong>Onchain identity ready</strong> - Basenames perfect for investor reputation system (future)</li>
</ul>
<h3 id="technical-excellence">Technical Excellence</h3>
<ul>
<li><strong>Full stack onchain</strong> - smart contracts handle all core logic (minting, funding, distribution)</li>
<li><strong>Real USDC flows</strong> - not testnet tokens, actual Base USDC for authentic demo</li>
<li><strong>Production-ready architecture</strong> - clean separation between investor (onchain) and SMB (abstracted) layers</li>
<li><strong>Focused scope</strong> - one workflow done perfectly, not ten features half-built</li>
</ul>
<h3 id="viability-beyond-hackathon">Viability Beyond Hackathon</h3>
<p>This isn't a hackathon toy. We have:</p>
<ul>
<li><strong>Clear revenue model</strong> - 2-3% platform fee on funded invoices</li>
<li><strong>Existing customers</strong> - Orbbit's SMB base ready to use this</li>
<li><strong>Addressable market</strong> - Every B2B company with Net-30/60 terms</li>
<li><strong>Post-buildathon path</strong> - Raise seed round, integrate real risk scoring, launch mainnet in Q1 2026</li>
</ul>
<h3 id="accessible-to-mainstream-users">Accessible to Mainstream Users</h3>
<p><strong>SMBs don't know they're using blockchain.</strong> They submit invoices via email, get USD in their bank account, repay USD. Zero crypto knowledge needed.</p>
<p><strong>Investors have a simple experience.</strong> Connect wallet, deposit USDC, earn yield. No complex concepts required.</p>
<p>The platform solves real problems while abstracting blockchain complexity.</p>
<h3 id="what-judges-will-see">What Judges Will See</h3>
<p>The demonstration will show:</p>
<ul>
<li><strong>Live invoices</strong> from real companies funding on Base</li>
<li><strong>Real-time funding progress</strong> as investors contribute</li>
<li><strong>Instant yield distribution</strong> when we simulate repayment</li>
<li><strong>Transparent risk dashboard</strong> showing exactly what backs each investment</li>
<li><strong>90-second demo</strong> that anyone can understand, regardless of crypto experience</li>
</ul>
<p>Real businesses getting capital, real investors earning returns, all automated onchain.</p>
<hr>
<h2 id="11-next-steps">11. Next Steps</h2>
<p><strong>Week 1 (Oct 5-11):</strong> Smart contracts deployed to Base testnet
<strong>Week 2 (Oct 12-18):</strong> Frontend deployed with wallet connection
<strong>Week 3 (Oct 19-24):</strong> Integration complete, demo video recorded
<strong>Oct 24:</strong> Submit to Base Buildathon #002</p>
<p><strong>Post-submission:</strong> Early feedback from judges (Oct 10 early submission), iterate based on feedback</p>
<hr>
<h2 id="contact">Contact</h2>
<p><strong>Team:</strong> Orbbit
<strong>CTO:</strong> Jian Ruan
<strong>Product:</strong> Capital &amp; financial intelligence platform for SMBs
<strong>GitHub:</strong> <a href="https://github.com/orbbit/orbbit-monorepo">orbbit-monorepo</a>
<strong>Website:</strong> orbbit.com (placeholder)</p>
<hr>
<p><em>Built with ❤️ on Base to bring a billion users onchain, one invoice at a time.</em></p>

</body>
</html>
