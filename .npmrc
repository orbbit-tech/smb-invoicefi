# pnpm configuration for Nx monorepo

# Strict peer dependencies - prevent phantom dependencies
auto-install-peers=true
strict-peer-dependencies=false

# Hoisting configuration for Nx/Next.js compatibility
# Public hoist pattern for packages that need to be accessible by all workspace packages
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
public-hoist-pattern[]=*typescript*
public-hoist-pattern[]=@swc/*
public-hoist-pattern[]=@nx/*
public-hoist-pattern[]=react
public-hoist-pattern[]=react-dom
public-hoist-pattern[]=next

# Prevent hoisting of smart contract dependencies to keep them isolated
public-hoist-pattern[]=!@openzeppelin/*

# Shamefully hoist pattern for packages with complex peer dependencies
shamefully-hoist=false

# Store directory (optional, uses default pnpm store)
# store-dir=~/.pnpm-store

# Enable workspace protocol for local packages
link-workspace-packages=true

# Lockfile settings
lockfile=true
